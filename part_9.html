<!DOCTYPE html>
<html>
<head lang="ru-RU">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>FE Course Part 9</title>
    <!-- Bootstrap -->

    <!--<link href="css/mystyle.css" rel="stylesheet">-->
    <link href="css/bootstrap.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script type="text/javascript">
        $(document).ready(function(){

            // init show or hide menu item or menu button
            showHide();

            // add event handler for resize
            $(window).resize(function(){ showHide(); });

            // add menu button and hanler for click
            $('.navbar-header').append(
                    $('<a class="navbar-brand" href="#menu">Меню</a>').on('click', function(){ $('#bs-example-navbar').toggle(); })
            );

            // add menu items
            var navbar   = $('#bs-example-navbar');
            var navbarUl = $('<ul class="nav navbar-nav"></ul>');

            for(var i=1; i < 5; i++)
            {
                if(i == 3){
                    navbarUl.append($('<li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Menu item '+ i +'<span class="caret"></span></a></li>').append(addSubmenu()) );
                } else {
                    navbarUl.append($('<li><a href="#">Menu item ' + i + '</a></li>').on('click', function () { myAlert(this); }));
                }
            }
            navbar.append(navbarUl);

        });


        // show or hide menu button or menu
        function showHide(){
            if($(window).width() < 600){
                $('.navbar-header').show();
                $('#bs-example-navbar').hide();
            } else if ($(window).width() >= 600) {
                $('.navbar-header').hide();
                $('#bs-example-navbar').show();
            }
        }

        // add submenu
        function addSubmenu(){

            var navbarSub = $('<ul class="dropdown-menu"></ul>');
            for(var i=1; i < 5; i++)
            {
                navbarSub.append($('<li><a href="#">SubMenu item '+ i +'</a></li>').on('click', function(){myAlert(this);}));
            }

            return navbarSub;
        }

        //show alert in article area if click on menu item
        function myAlert(obj){
            $('.panel-body').html($('<p>' + obj.children[0].text + '</p>'));
            showHide();
        }
    </script>

</head>
<body>
<div class="container">
    <header>
        <nav class="navbar navbar-default">
            <div class="container-fluid">

                <div class="navbar-header"></div>

                <div class="navbar-collapse" id="bs-example-navbar"></div><!-- /.navbar-collapse -->

            </div><!-- /.container-fluid -->
        </nav>
    </header>

    <article>
        <div class="panel panel-default">
            <div class="panel-body">
                <p>If you click any menu item, then you received its text.</p>
            </div>
        </div>
    </article>

</div>
<script src="js/bootstrap.js"></script>
</body>
</html>